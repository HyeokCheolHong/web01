<%- include('./include/_header') %>
<!-- 상단 공통 페이지를 외부포함파일로 처리 -->
<!-- _header.ejs 파일을 인클루드(포함) 확장자 .ejs는 생략됨 -->
<!-- Main -->
  <main id="site-main">
    <div class="button-box">
      <a href="/contacts/add" class="btn btn-light"><i class="fa-solid fa-user-plus"></i>연락처 추가</a>
    </div>
  
    <table class="table">
      <thead>
        <tr>
          <th>이름</th>
          <th>메일 주소</th>
          <th>전화번호</th>
          <th>&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        <% contacts.forEach(contact => { %>
        <tr>
          <td><%=contact.name%></td>
          <td><%=contact.email%></td>
          <td><%=contact.phone%></td>
          <td>
            <a href="/contacts/<%= contact._id %>" class="btn update" title="수정">
              <!-- contact._id : mongoDB에서 사용자의 ID가 _id로 설정되어 있기 떄문이다. -->
              <i class="fas fa-pencil-alt"></i>
            </a>
            
            <!-- 2024-11-20 DB내용까지 일괄 삭제 코드 작성후 주석처리
            <a href="#" class="btn delete" title="삭제">
              <i class="fas fa-times"></i>
            </a> -->
            <form method="POST" action="/contacts/<%=contact._id%>?_method=DELETE" style="display: inline;">
              <input type="submit" class="btn delete" title="삭제" value="X">
              <!-- title 속성은 마우스를 요소 위에 가져갔을 때 툴팁(Tool-Tip) 형태로 사용자에게 시작적인 정보를 제공 -->
            </form>
          </td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </main>
  <!-- /Main -->
  
<%- include('./include/_footer') %>
<!-- 하단 공통 페이지를 외부포함파일로 처리 -->
<!-- _footer.ejs 파일을 인클루드(포함) 확장자 .ejs는 생략됨 -->